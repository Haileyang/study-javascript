{"version":3,"sources":["app.js"],"names":["ajax","XMLHttpRequest","content","document","createElement","root","getElementById","NEWS_URL","CONTENT_URL","store","currentPage","getData","url","open","send","JSON","parse","response","newsFeed","newsList","push","i","console","log","length","id","title","comments_count","innerHTML","join","newsDetail","location","hash","substr","newsContent","replace","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"AAAA,IAAMA,IAAI,GAAG,IAAIC,cAAJ,EAAb;AACA,IAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,IAAMC,IAAI,GAAGF,QAAQ,CAACG,cAAT,CAAwB,MAAxB,CAAb;AACA,IAAMC,QAAQ,GAAG,sCAAjB;AACA,IAAMC,WAAW,GAAG,wCAApB;AAEA,IAAIC,KAAK,GAAG;EACRC,WAAW,EAAG;AADN,CAAZ;;AAIA,SAASC,OAAT,CAAkBC,GAAlB,EAAsB;EAClBZ,IAAI,CAACa,IAAL,CAAU,KAAV,EAAiBD,GAAjB,EAAsB,KAAtB;EACAZ,IAAI,CAACc,IAAL;EAEA,OAAOC,IAAI,CAACC,KAAL,CAAWhB,IAAI,CAACiB,QAAhB,CAAP;AACH;;AAED,SAASC,QAAT,GAAmB;EACf,IAAMA,QAAQ,GAAGP,OAAO,CAACJ,QAAD,CAAxB;EACA,IAAMY,QAAQ,GAAG,EAAjB;EACAA,QAAQ,CAACC,IAAT,CAAc,MAAd;;EACA,KAAI,IAAIC,CAAC,GAAG,CAACZ,KAAK,CAACC,WAAN,GAAoB,CAArB,IAA0B,EAAtC,EAA0CW,CAAC,GAAGZ,KAAK,CAACC,WAAN,GAAoB,EAAlE,EAAsEW,CAAC,EAAvE,EAA0E;IACtEC,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACM,MAArB;IACAL,QAAQ,CAACC,IAAT,gEAE0BF,QAAQ,CAACG,CAAD,CAAR,CAAYI,EAFtC,gBAE6CP,QAAQ,CAACG,CAAD,CAAR,CAAYK,KAFzD,cAEkER,QAAQ,CAACG,CAAD,CAAR,CAAYM,cAF9E;EAKH;;EAEDR,QAAQ,CAACC,IAAT,CAAc,OAAd;EACAD,QAAQ,CAACC,IAAT,4DAE8BX,KAAK,CAACC,WAAN,GAAoB,CAApB,GAAwBD,KAAK,CAACC,WAAN,GAAoB,CAA5C,GAAgD,CAF9E,sFAG8BD,KAAK,CAACC,WAAN,GAAqBQ,QAAQ,CAACM,MAAT,GAAkB,EAAvC,GAA6Cf,KAAK,CAACC,WAAN,GAAoB,CAAjE,GAAqED,KAAK,CAACC,WAHzG;EAOAL,IAAI,CAACuB,SAAL,GAAiBT,QAAQ,CAACU,IAAT,CAAc,EAAd,CAAjB;AACH;;AAED,SAASC,UAAT,GAAqB;EACjB,IAAML,EAAE,GAAGM,QAAQ,CAACC,IAAT,CAAcC,MAAd,CAAqB,CAArB,CAAX;EACA,IAAMC,WAAW,GAAGvB,OAAO,CAACH,WAAW,CAAC2B,OAAZ,CAAoB,KAApB,EAA2BV,EAA3B,CAAD,CAA3B;EAEApB,IAAI,CAACuB,SAAL,8CAC4BnB,KAAK,CAACC,WADlC,iEAEUwB,WAAW,CAACR,KAFtB;AAIH;;AAED,SAASU,MAAT,GAAiB;EACb,IAAMC,SAAS,GAAGN,QAAQ,CAACC,IAA3B;;EACA,IAAGK,SAAS,KAAK,EAAjB,EAAoB;IAChBnB,QAAQ;EACX,CAFD,MAEM,IAAImB,SAAS,CAACC,OAAV,CAAkB,SAAlB,KAAgC,CAApC,EAAsC;IACxC7B,KAAK,CAACC,WAAN,GAAoB6B,MAAM,CAACF,SAAS,CAACJ,MAAV,CAAiB,CAAjB,CAAD,CAA1B;IACAf,QAAQ;EACX,CAHK,MAGA;IACFY,UAAU;EACb;AACJ;;AACDU,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsCL,MAAtC;AAEAA,MAAM","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const ajax = new XMLHttpRequest();  \nconst content = document.createElement('div')\nconst root = document.getElementById('root')\nconst NEWS_URL = 'https://api.hnpwa.com/v0/news/1.json'\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/@id.json'\n\nlet store = {\n    currentPage : 1\n}\n\nfunction getData (url){\n    ajax.open('GET', url, false)\n    ajax.send(); \n\n    return JSON.parse(ajax.response);\n}\n\nfunction newsFeed(){\n    const newsFeed = getData(NEWS_URL);\n    const newsList = [];\n    newsList.push('<ul>')\n    for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++){\n        console.log(newsFeed.length)\n        newsList.push(`\n            <li>\n                <a href=\"#/show/${newsFeed[i].id}\">${newsFeed[i].title}(${newsFeed[i].comments_count})</a>\n            </li>\n        `)\n    }\n\n    newsList.push('</ul>')\n    newsList.push(`\n        <ul>\n            <li><a href=\"#/page/${store.currentPage > 1 ? store.currentPage - 1 : 1}\">이전페이지</li>\n            <li><a href=\"#/page/${store.currentPage < (newsFeed.length / 10) ? store.currentPage + 1 : store.currentPage}\">다음페이지</li>\n        </ul>\n    `)\n\n    root.innerHTML = newsList.join('')\n}\n\nfunction newsDetail(){\n    const id = location.hash.substr(7)\n    const newsContent = getData(CONTENT_URL.replace('@id', id));\n\n    root.innerHTML = `\n        <span><a href=\"#/page/${store.currentPage}\">목록으로</a></span>\n        <h1>${newsContent.title}</h1>\n    `\n}\n\nfunction router(){\n    const routePath = location.hash\n    if(routePath === ''){\n        newsFeed()\n    }else if (routePath.indexOf('#/page/') >= 0){\n        store.currentPage = Number(routePath.substr(7))\n        newsFeed()\n    } else{\n        newsDetail() \n    }\n}\nwindow.addEventListener('hashchange', router)\n\nrouter()"]}